<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:hftl="http://hftl.org" xmlns:hf="http://xmlns.jcp.org/jsf/composite/tags" xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:s="http://jboss.org/seam/faces" template="/layout/template.xhtml">

    <o:importConstants type="org.meveo.model.technicalservice.endpoint.EndpointHttpMethod" />
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="objectId" value="#{endpointBean.objectId}" />
        </f:metadata>
    </ui:define>

    <ui:define name="body">
        <h:form id="crumbmenuForm">
            <p:breadCrumb homeDisplay="text" id="crumbmenu">
                <p:menuitem value="#{messages['menu.admin']}" disabled="true" />
                <p:menuitem outcome="endpoint" value="#{messages['enpoint.endpoint']}" />
                <p:menuitem value="#{endpointBean.entity.code}" />
            </p:breadCrumb>
        </h:form>
        <hftl:formPanel formId = "endpointForm" label="#{messages['endpoint.panel']}" backingBean="#{endpointBean}">
            <hftl:formField label="#{messages['endpoint.name']}" field="code" required="true" />
            <hftl:decorateFormField field = "service" fieldId="service" componentWidth="150" label="#{messages['endpoint.code']}" required="true">
                <h:selectOneMenu id="service" value="#{endpointBean.entity.service.code}">
                    <f:selectItem itemValue="#{null}" itemLabel="" />
                    <f:selectItem itemValue="service" itemLabel="#{endpointBean.entity.service.code}"></f:selectItem>
                </h:selectOneMenu>
            </hftl:decorateFormField>
            <hftl:formField label="#{messages['endpoint.description']}" field="description" />
            <hftl:decorateFormField field = "method" fieldId="method" componentWidth="150" label="#{messages['endpoint.method']}">
                <p:selectOneMenu id="method" value="#{endpointBean.entity.method}" style="width:150px;">
                    <f:selectItem itemLabel="#{messages['endpoint.selectMethod']}" itemValue="" noSelectionOption="true" />
                    <f:selectItem itemLabel="#{messages['endpoint.GET']}" itemValue="GET" />
                    <f:selectItem itemLabel="#{messages['endpoint.POST']}" itemValue="POST" />
                </p:selectOneMenu>
            </hftl:decorateFormField>
            <hftl:formField label="#{messages['enpoint.synchronous']}"  field="synchronous" />
<!--            <hftl:dataList label="#{messages['endpoint.title']}"	backingBean="#{endpointBean.entity.}">
                <hftl:column label="#{messages['endpoint.serviceid']}" 	field="code" width="10%" entityView="endpointDetail"/>
                <hftl:column label="#{messages['enpoint.synchronous']}"	field="synchronous" />
                <hftl:column label="#{messages['endpoint.method']}" field="method" />
                <hftl:column label="#{messages['endpoint.jsonataTransformer']}" field="jsonataTransformer" />
                <hftl:actionsColumn	permission="#{currentUser.hasRole('superAdminManagement')}" />/>
            </hftl:dataList>-->
           <!-- <hftl:formField label="#{messages['endpoint.pathParameter']}" field="pathParameters"
                                listType="pickUpList" valueLabelField="code" valueLabelField2="parameter"
                                dualListModel="#{endpointBean.endpointPathParameter}"
                                newLine="true" />-->
        </hftl:formPanel>
    </ui:define>

</ui:composition>
